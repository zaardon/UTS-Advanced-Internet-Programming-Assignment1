<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
template="/WEB-INF/templates/header.xhtml"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:f="http://java.sun.com/jsf/core">

    <!-- This allows a user to edit a detention. A detentions details are pre-loaded into the various fields on the page. 
    If a user tries to edit the fields with accent characters, an error will be displayed. In particular, the first and last
    name input fields can only use letters, apostrophes, dashes and single spaces-->
    
    <ui:define name="title">
    Edit a Detention
    </ui:define>
    <f:metadata>
        <f:viewAction action="#{detentionController.loadDetention(param.index)}"/>
    </f:metadata>    
    <ui:define name="content">     
        <h:head>
            <h:outputStylesheet  name="style.css" library="css" />
        </h:head>
        <h:body>
            <h1 class="h1">Edit a Detention</h1>        
            <h:form>
                <div align="center">
                    <table>
                        <tr>
                            <td><h:outputText value="First Name: " styleClass="createHeader" /></td>
                            <td><h:inputText id="fname" value="#{detentionController.detention.FName}" 
                                             validatorMessage="You must enter a valid first name!" styleClass="createInput"/> </td>
                            <td><h:message for="fname" styleClass="createInputError"/></td>
                        </tr>
                        <tr>
                            <td><h:outputText value="Last Name: " styleClass="createHeader" /></td>
                            <td><h:inputText id="lname" value="#{detentionController.detention.LName}" 
                                             validatorMessage="You must enter a valid last name" styleClass="createInput"/></td>
                            <td><h:message for="lname" styleClass="createInputError" /></td>
                        </tr>
                        <tr>
                            <td><h:outputText value="Year: " styleClass="createHeader" /></td>
                            <td><h:selectOneMenu value="#{detentionController.detention.year}" styleClass="createInput">
                                <f:selectItem itemValue="07" itemLabel="07"/>
                                <f:selectItem itemValue="08" itemLabel="08"/>
                                <f:selectItem itemValue="09" itemLabel="09"/>
                                <f:selectItem itemValue="10" itemLabel="10"/>
                                <f:selectItem itemValue="11" itemLabel="11"/>
                                <f:selectItem itemValue="12" itemLabel="12"/>
                            </h:selectOneMenu></td>
                        </tr>                              
                        <tr>
                            <td><h:outputText value="Type of Detention: " styleClass="createHeader" /></td>
                            <td><h:selectOneMenu value="#{detentionController.detention.type}" styleClass="createInput">
                                    <f:selectItem itemValue="Afternoon" itemLabel="Afternoon"/>
                                    <f:selectItem itemValue="Morning" itemLabel="Morning"/>
                                    <f:selectItem itemValue="Saturday" itemLabel="Saturday"/>
                                    <f:selectItem itemValue="Lunchtime" itemLabel="Lunchtime"/>
                                </h:selectOneMenu></td>
                        </tr>                              
                        <tr>
                            <td><h:outputText value="Department: " styleClass="createHeader" /></td>
                            <td><h:selectOneMenu value="#{detentionController.detention.dept}" styleClass="createInput">
                                    <f:selectItem itemValue="Computing" itemLabel="Computing"/>
                                    <f:selectItem itemValue="Math" itemLabel="Math"/>
                                    <f:selectItem itemValue="English" itemLabel="English"/>
                                    <f:selectItem itemValue="Science" itemLabel="Science"/>
                                    <f:selectItem itemValue="HSIE" itemLabel="HSIE"/>
                                </h:selectOneMenu></td>
                        </tr>                               
                        <tr>
                            <td><h:outputText value="Reason: " styleClass="createHeader" /></td>
                            <td><h:inputText id="reason" value="#{detentionController.detention.reason}" styleClass="createInput" validatorMessage="You must enter a valid reason (check your input!)"/></td>
                            <td><h:message for="reason" styleClass="createInputError" /></td>
                        </tr>
                        <tr>
                            <h:inputHidden value="#{detentionController.detention.id}"/>
                            <td>
                                <h:button value="Cancel"  styleClass="stdButton" outcome="cancel"/>
                                <h:commandButton value="Save" styleClass="stdButton" action="#{detentionController.editDetention()}"/>
                            </td>        
                        </tr>
                    </table>
                </div>         
            </h:form>
        </h:body>
    </ui:define>
</ui:composition>
